# Monty Hall
![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTtXweKCurpKMk7XvXqNzyJtjq3WBBi__yPMMULiumImByedO4n)

The simulation for monty hall questions. also give mathematical explain.

## Bin

Download the python file, and run the command below:

```Shell
python monty_hall.py times
```

times: the simulation times your want to test.

## Explain

这是比较有名的一道和贝叶斯相关的现实问题，问题的背景有点忘了，也懒得再去查了，大概的意思就是一个美国的综艺节目，这个节目做一个游戏，游戏的大致规则如下：

1. 该节目为嘉宾准备了3个门，标志为1,2,3，其中有1个门后面有大奖，据说是豪车之类的，另外了两个门后面是山羊。当然，我们希望最大概率的获得大奖。
2. 开始的时候，你要选择好一个门，当你选择好这个门的时候，一开始时，你选中的这个门不会被打开。此时主持人（主持人是知道剩下的两个门，哪一个门是有大奖的，当然，也有可能剩下的两个门后面都是山羊）会在剩下的两个门中，选择后面是山羊的一个门打开。这里需要注意的是，如果你选择的那个门后面就是大奖，那么剩下的两个门后面就都是山羊，此时，主持人可以随便的打开剩下两个门中的一个；如果你选择的那个门后面不是大奖，那么大奖就在剩下的两个门后，主持人是知道哪个门后面是大奖的，主持人需要选择那个不是大奖的门打开。所以，不管哪一种情况，最后被打开的那个门后面一定是山羊。
3. 在主持人打开一个门，里面是山羊的情况下，你可以做出选择，是坚持自己之前选过的那个门，还是重新选择另外一个门。

第一次看这个问题的时候，被绕得云里雾里，题目都没怎么搞明白，当时就只留下个印象，没有去作过多额思考。今天，重新看这道题的时候，发现，原来这么简单。只要利用贝叶斯定理就可以很好的解决这个问题，我们来看一下：

- H = i 表示 大奖在第 i 个门后面，这个概率其实上在3个门是一样的，都是1/3，所以有：

```
P(H = 1) = P(H = 2) = P (H = 3) = 1/3
```

- 不失一般性，我们可以假设 我们开始时选择门1，那么这时候，我们来统计下，大奖在门1 门2 门3的时候，主持人打开门2 或者门3的概率，为什么要算这个？因为在后面的贝叶斯定理中，我们需要算的是主持人打开门2或者门3时候，大奖在门1 门2 门3 的概率，根据这个概率来帮助我们做出选择，我们可以计算得到如下概率：

```
P(D = 2 | H = 1) = 1/2    P(D = 3 | H = 1) = 1/2
P(D = 2 | H = 2) = 0      P(D = 3 | H = 2) = 1
P(D = 2 | H = 3) = 1      P(D = 3 | H = 3) = 0
```

- 我们计算出了各种情况下对应的概率值，不失一般性，我们假设主持人现在打开的是门3，我们来看下，在这种情况下，大奖在门1 门2 门3的概率，通过贝叶斯定理来计算：

```
P(H = 1 | D = 3) = P(D = 3 | H = 1)P(H = 1) / P(D = 3 | H = 1) + P(D = 3 | H = 2) + P(D = 3 | H = 1) = 1/3

P(H = 2 | D = 3) = P(D = 3 | H = 2)P(H = 2) / P(D = 3 | H = 1) + P(D = 3 | H = 2) + P(D = 3 | H = 1) = 2/3

P(H = 3 | D = 3) = 0
```

所以我们可以看到，在这种情况下，大奖在H=2后面的概率是比较大的。这是一个非常反直觉的游戏，我们的大脑还不能对概率问题进行直接的判断。